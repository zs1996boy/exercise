(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ad21afa"],{"2bd4":function(e,t,i){"use strict";var s=i("454c"),n=i.n(s);n.a},"2d94":function(e,t,i){e.exports=i.p+"img/bk2.png"},"3e7b":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"p3"}},[i("van-uploader",{scopedSlots:e._u([{key:"preview-cover",fn:function(t){var s=t.file;return[i("div",{staticClass:"preview-cover van-ellipsis"},[e._v(e._s(1==e.show?s.name:""))])]}}]),model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}}),i("br"),i("button",{on:{click:e.drawProdPicture}},[e._v("合成图片")]),i("p",[e._v("选择画框")]),i("div",{staticClass:"bg"},e._l(e.z_bgPic,(function(t,s){return i("div",{key:s,class:e.z_bgPic_index==s?"color":"",on:{click:function(i){return e.C_bgPic(t,s)}}},[i("img",{attrs:{src:t.src}})])})),0),i("div",{on:{click:function(t){return e.getImg(e.makePic)}}},[i("img",{staticClass:"longbtn1",attrs:{src:e.makePic}})]),this.$store.state.off_code?i("div",{staticClass:"end_text"},e._l(e.text,(function(t,s){return i("div",{key:s},[e._v(" "+e._s(t)+" ")])})),0):e._e(),i("div",{staticClass:"bottom",attrs:{"is-link":""},on:{click:e.showPopup}},[e._v("使用方法")]),i("van-popup",{style:{height:"50%"},attrs:{closeable:"",round:"",position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[i("ul",{staticClass:"text_bottom"},[i("li",[e._v("第一步 "),i("ol",[e._v("npm install vue-esign --save")])]),i("li",[e._v(" 第二步 "),i("ol",[e._v(" import vueEsign from 'vue-esign'; ")]),i("ol",[e._v(" Vue.use(vueEsign); ")])]),i("li",{on:{click:function(t){return e.getImg(e.codeimg)}}},[e._v(" 代码如下： "),i("img",{staticClass:"longbtn",attrs:{src:e.codeimg,alt:""}})])])])],1)},n=[],o=i("d9d7"),g=i.n(o),c=i("ea36"),r=i.n(c),l=i("2d94"),a=i.n(l),m=i("a3e0"),d=i.n(m),A=i("28a2"),b={data(){return{codeimg:d.a,lineWidth:6,lineColor:"#000000",bgColor:"",resultImg:"",isCrop:!1,z_bgPic:[{src:g.a},{src:r.a},{src:a.a}],z_bgPic_index:"",bgPic:g.a,makePic:"",fileList:[],one_img_src:"",show:!1,text:["<template>",'  <div id="p3">','    <van-uploader v-model="fileList">','    <template #preview-cover="{ file }">',"      <div class=\"preview-cover van-ellipsis\">{{ show==true?file.name:'' }}</div>","    </template>","    </van-uploader>","    <br>",'    <button @click="drawProdPicture">合成图片</button>',"    <p>选择画框</p>",'    <div class="bg">','        <div v-for="(item,index) in z_bgPic" :key="index" @click="C_bgPic(item,index)" :class="z_bgPic_index==index?\'color\':\'\'">','            <img :src="item.src">',"        </div>","    </div>",'    <div @click="getImg(makePic)">','        <img :src="makePic" class="longbtn1">',"    </div>","    ",'    <div class="bottom" is-link @click="showPopup">使用方法</div>',"    <van-popup",'      v-model="show"',"      closeable","      round",'      position="bottom"',"      :style=\"{ height: '50%' }\"","    >",'      <ul class="text_bottom">',"        <li>第一步","          <ol>npm install vue-esign --save</ol>","        </li>","        <li>","          第二步","          <ol>","            import vueEsign from 'vue-esign';","          </ol>","          <ol>","            Vue.use(vueEsign);","          </ol>","        </li>",'        <li @click="getImg(codeimg)">',"          代码如下：",'          <img :src="codeimg" alt="" class="longbtn">',"        </li>","      </ul>","    </van-popup>","    </div>","</template>","<>","//   import vueEsign from 'vue-esign';","//   Vue.use(vueEsign)","  import bgPic1 from '@/assets/img/bk.png';","  import bgPic2 from '@/assets/img/bk1.png';","  import bgPic3 from '@/assets/img/bk2.png';","  import codeimg from '@/assets/img/code2.png';","  import {ImagePreview} from 'vant';//引入预览","  export default {","    data () {","      return {","        codeimg,","        lineWidth: 6,","        lineColor: '#000000',","        bgColor: '',","        //签名图","        resultImg: '',","        isCrop: false,","        //底图","        z_bgPic:[","            {","                src:bgPic1,","            },","            {","                src:bgPic2","            },","            {","                src:bgPic3","            }","        ],","        z_bgPic_index:'',","        bgPic:bgPic1,","        makePic: '',","        fileList:[],","        one_img_src:'',","        show:false","      }","    },","    methods: {","      showPopup() {","      this.show = true;","    },","    onClose() {","      this.setData({ show: false });","    },","      getImg(item){","                ImagePreview([item])","            },","    C_bgPic(item,index){","        this.z_bgPic_index=index","        this.bgPic=item.src","    },","      handleReset () {","        this.$refs.esign.reset()","      },","      handleGenerate () {","        this.$refs.esign.generate().then(res => {","          debugger","          this.resultImg = res","          console.log(res);","        }).catch(err => {","          alert(err) // 画布没有签字时会执行这里 'Not Signned'","        })","      },","      drawProdPicture () {","        debugger;","        let img1 = new Image()","        let length=this.fileList.length;","        this.one_img_src=this.fileList[0].content","        img1.src = this.fileList[length-1].content","        img1.width = 100","        img1.height = 200","        img1.setAttribute('crossOrigin', 'anonymous')",'        let canvas = document.createElement("canvas")','        let context = canvas.getContext("2d")',"        canvas.width = 1500","        canvas.height = 866","        let img2 = new Image()","        let flag = true","        // 将 img1 加入画布","        img1.onload = () => {","          context.drawImage(img1, 0, 0, 1496, 866)","          img2.src = this.bgPic","          img2.setAttribute('crossOrigin', 'anonymous')","          img2.width = 1496","          img2.height = 866","          if (flag) {","            flag = false","          } else {","            let src = canvas.toDataURL()","            this.makePic = src","          }","        }","        // 将 img2 加入画布","        img2.onload = () => {","          context.drawImage(img2, 0, 0, 1496, 866)","          if (flag) {","            flag = false","          } else {","            let src = canvas.toDataURL('image/png')","            this.makePic = src","            this.fileList[length-1].content=src","          }","        }","      },","    }","  }","</ script>",'<style lang="scss" scoped>',"#p3{","  .longbtn1{","    display: block;","    width: 100vw;","  }","button{","    padding: 4px 2px;","    border: 1px solid red;","    margin: 20px 10px;","}",".color{","    box-shadow: 2px 2px 1px rgb(3, 3, 3),4px 4px 2px rgb(93, 94, 93),6px 6px 3px rgb(206, 206, 207);","    display: inline-block;","    box-sizing: border-box;","}",".bg{","    display: flex;","    &>div{","      margin: 5px;","    }","     img{","      display: block;","      width: 120px;","      height: 105px;","    }","}",".bottom {","    position: fixed;","    bottom: 0;","    padding: .533333rem;","    background: beige;","    width: 100vw;","    text-indent: .533333rem;","  }","  .text_bottom{","    margin-left: 8vw;","    margin-top: .8rem;","    margin-bottom: .533333rem;","    &>li{","      font-size: .426667rem;","      line-height: .906667rem;","      font-weight: bold;","      &>ol{","      font-size: .373333rem;","      color: #837a7a;","      line-height: .426667rem;","      -webkit-touch-callout: text;","      /*系统默认菜单被禁用*/","      -webkit-user-select: text;","      /*webkit浏览器*/","      -khtml-user-select: text;","      /*早期浏览器*/","      -moz-user-select: text;","      /*火狐*/","      -ms-user-select: text;","      /*IE10*/","      user-select: text;","    }","    }","    img{","      width: 84vw;","    }","    ","  }","}","</style>"]}},methods:{showPopup(){this.show=!0},onClose(){this.setData({show:!1})},getImg(e){Object(A["a"])([e])},C_bgPic(e,t){this.z_bgPic_index=t,this.bgPic=e.src},handleReset(){this.$refs.esign.reset()},handleGenerate(){this.$refs.esign.generate().then(e=>{this.resultImg=e,console.log(e)}).catch(e=>{alert(e)})},drawProdPicture(){let e=new Image,t=this.fileList.length;this.one_img_src=this.fileList[0].content,e.src=this.fileList[t-1].content,e.width=100,e.height=200,e.setAttribute("crossOrigin","anonymous");let i=document.createElement("canvas"),s=i.getContext("2d");i.width=1500,i.height=866;let n=new Image,o=!0;e.onload=()=>{if(s.drawImage(e,0,0,1496,866),n.src=this.bgPic,n.setAttribute("crossOrigin","anonymous"),n.width=1496,n.height=866,o)o=!1;else{let e=i.toDataURL();this.makePic=e}},n.onload=()=>{if(s.drawImage(n,0,0,1496,866),o)o=!1;else{let e=i.toDataURL("image/png");this.makePic=e,this.fileList[t-1].content=e}}}}},u=b,p=(i("2bd4"),i("2877")),v=Object(p["a"])(u,s,n,!1,null,"77d4d0f1",null);t["default"]=v.exports},"454c":function(e,t,i){},a3e0:function(e,t,i){e.exports=i.p+"img/code2.png"},d9d7:function(e,t,i){e.exports=i.p+"img/bk.png"},ea36:function(e,t){e.exports="data:image/png;base64,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"}}]);