(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ad21afa"],{"2bd4":function(e,i,t){"use strict";var s=t("454c"),o=t.n(s);o.a},"2d94":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA04AAAKeAQMAAACoJ9lZAAAABlBMVEUAAAD+rsnIAQxmAAAAAXRSTlMAQObYZgAAAU9JREFUeNrszaENwDAQwMBu0P13rdSCIksPQhJ0BqZ3vad6UCgUCjWEQg2hUEMo1BAKNYRapP5v7kahUCgUCoVCoRIKhUKhUKiEQqFQKBQqoVAoFAqFSigUCoVCoRIKhUKhUKiEQqFQKBQqoVAoFAqFSigUCoVCoRIKhUKhUKiEQqFQKBQqoVAoFAqFSigUCoVCoRIKhUKhUKiEQqFQKBQqoVAoFAqFSigUCoVCoRIKhUKhUKiEQqFQKBQqoVAoFAqFSigUCoVCoRIKhUKhUKiEQqFQKBQqoVAoFAqFSigUCoVCoRIKhUKhUKiEQqFQKBQqoVAoFAqFSigUCoVCoRIKhUKhUKiEQqFQKBTqa2+OTQCAYRiA/f916WjwmkBAekBBpVKpVCpVUKlUKpVKFVQqlUqlUgWVSqVSDVQbVCrVp1IVKlWhUhUqVaFSFaerB2StWbQrMkd3AAAAAElFTkSuQmCC"},"3e7b":function(e,i,t){"use strict";t.r(i);var s=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{attrs:{id:"p3"}},[t("van-uploader",{scopedSlots:e._u([{key:"preview-cover",fn:function(i){var s=i.file;return[t("div",{staticClass:"preview-cover van-ellipsis"},[e._v(e._s(1==e.show?s.name:""))])]}}]),model:{value:e.fileList,callback:function(i){e.fileList=i},expression:"fileList"}}),t("br"),t("button",{on:{click:e.drawProdPicture}},[e._v("合成图片")]),t("p",[e._v("选择画框")]),t("div",{staticClass:"bg"},e._l(e.z_bgPic,(function(i,s){return t("div",{key:s,class:e.z_bgPic_index==s?"color":"",on:{click:function(t){return e.C_bgPic(i,s)}}},[t("img",{attrs:{src:i.src}})])})),0),t("div",{on:{click:function(i){return e.getImg(e.makePic)}}},[t("img",{staticClass:"longbtn1",attrs:{src:e.makePic}})]),this.$store.state.off_code?t("div",{staticClass:"end_text"},e._l(e.text,(function(i,s){return t("div",{key:s},[e._v(" "+e._s(i)+" ")])})),0):e._e(),t("div",{staticClass:"bottom",attrs:{"is-link":""},on:{click:e.showPopup}},[e._v("使用方法")]),t("van-popup",{style:{height:"50%"},attrs:{closeable:"",round:"",position:"bottom"},model:{value:e.show,callback:function(i){e.show=i},expression:"show"}},[t("ul",{staticClass:"text_bottom"},[t("li",[e._v("第一步 "),t("ol",[e._v("npm install vue-esign --save")])]),t("li",[e._v(" 第二步 "),t("ol",[e._v(" import vueEsign from 'vue-esign'; ")]),t("ol",[e._v(" Vue.use(vueEsign); ")])]),t("li",{on:{click:function(i){return e.getImg(e.codeimg)}}},[e._v(" 代码如下： "),t("img",{staticClass:"longbtn",attrs:{src:e.codeimg,alt:""}})])])])],1)},o=[],n=t("d9d7"),l=t.n(n),a=t("ea36"),g=t.n(a),r=t("2d94"),c=t.n(r),m=t("a3e0"),A=t.n(m),h=t("28a2"),d={data(){return{codeimg:A.a,lineWidth:6,lineColor:"#000000",bgColor:"",resultImg:"",isCrop:!1,z_bgPic:[{src:l.a},{src:g.a},{src:c.a}],z_bgPic_index:"",bgPic:l.a,makePic:"",fileList:[],one_img_src:"",show:!1,text:["<template>",'  <div id="p3">','    <van-uploader v-model="fileList">','    <template #preview-cover="{ file }">',"      <div class=\"preview-cover van-ellipsis\">{{ show==true?file.name:'' }}</div>","    </template>","    </van-uploader>","    <br>",'    <button @click="drawProdPicture">合成图片</button>',"    <p>选择画框</p>",'    <div class="bg">','        <div v-for="(item,index) in z_bgPic" :key="index" @click="C_bgPic(item,index)" :class="z_bgPic_index==index?\'color\':\'\'">','            <img :src="item.src">',"        </div>","    </div>",'    <div @click="getImg(makePic)">','        <img :src="makePic" class="longbtn1">',"    </div>","    ",'    <div class="bottom" is-link @click="showPopup">使用方法</div>',"    <van-popup",'      v-model="show"',"      closeable","      round",'      position="bottom"',"      :style=\"{ height: '50%' }\"","    >",'      <ul class="text_bottom">',"        <li>第一步","          <ol>npm install vue-esign --save</ol>","        </li>","        <li>","          第二步","          <ol>","            import vueEsign from 'vue-esign';","          </ol>","          <ol>","            Vue.use(vueEsign);","          </ol>","        </li>",'        <li @click="getImg(codeimg)">',"          代码如下：",'          <img :src="codeimg" alt="" class="longbtn">',"        </li>","      </ul>","    </van-popup>","    </div>","</template>","<>","//   import vueEsign from 'vue-esign';","//   Vue.use(vueEsign)","  import bgPic1 from '@/assets/img/bk.png';","  import bgPic2 from '@/assets/img/bk1.png';","  import bgPic3 from '@/assets/img/bk2.png';","  import codeimg from '@/assets/img/code2.png';","  import {ImagePreview} from 'vant';//引入预览","  export default {","    data () {","      return {","        codeimg,","        lineWidth: 6,","        lineColor: '#000000',","        bgColor: '',","        //签名图","        resultImg: '',","        isCrop: false,","        //底图","        z_bgPic:[","            {","                src:bgPic1,","            },","            {","                src:bgPic2","            },","            {","                src:bgPic3","            }","        ],","        z_bgPic_index:'',","        bgPic:bgPic1,","        makePic: '',","        fileList:[],","        one_img_src:'',","        show:false","      }","    },","    methods: {","      showPopup() {","      this.show = true;","    },","    onClose() {","      this.setData({ show: false });","    },","      getImg(item){","                ImagePreview([item])","            },","    C_bgPic(item,index){","        this.z_bgPic_index=index","        this.bgPic=item.src","    },","      handleReset () {","        this.$refs.esign.reset()","      },","      handleGenerate () {","        this.$refs.esign.generate().then(res => {","          debugger","          this.resultImg = res","          console.log(res);","        }).catch(err => {","          alert(err) // 画布没有签字时会执行这里 'Not Signned'","        })","      },","      drawProdPicture () {","        debugger;","        let img1 = new Image()","        let length=this.fileList.length;","        this.one_img_src=this.fileList[0].content","        img1.src = this.fileList[length-1].content","        img1.width = 100","        img1.height = 200","        img1.setAttribute('crossOrigin', 'anonymous')",'        let canvas = document.createElement("canvas")','        let context = canvas.getContext("2d")',"        canvas.width = 1500","        canvas.height = 866","        let img2 = new Image()","        let flag = true","        // 将 img1 加入画布","        img1.onload = () => {","          context.drawImage(img1, 0, 0, 1496, 866)","          img2.src = this.bgPic","          img2.setAttribute('crossOrigin', 'anonymous')","          img2.width = 1496","          img2.height = 866","          if (flag) {","            flag = false","          } else {","            let src = canvas.toDataURL()","            this.makePic = src","          }","        }","        // 将 img2 加入画布","        img2.onload = () => {","          context.drawImage(img2, 0, 0, 1496, 866)","          if (flag) {","            flag = false","          } else {","            let src = canvas.toDataURL('image/png')","            this.makePic = src","            this.fileList[length-1].content=src","          }","        }","      },","    }","  }","</ script>",'<style lang="scss" scoped>',"#p3{","  .longbtn1{","    display: block;","    width: 100vw;","  }","button{","    padding: 4px 2px;","    border: 1px solid red;","    margin: 20px 10px;","}",".color{","    box-shadow: 2px 2px 1px rgb(3, 3, 3),4px 4px 2px rgb(93, 94, 93),6px 6px 3px rgb(206, 206, 207);","    display: inline-block;","    box-sizing: border-box;","}",".bg{","    display: flex;","    &>div{","      margin: 5px;","    }","     img{","      display: block;","      width: 120px;","      height: 105px;","    }","}",".bottom {","    position: fixed;","    bottom: 0;","    padding: .533333rem;","    background: beige;","    width: 100vw;","    text-indent: .533333rem;","  }","  .text_bottom{","    margin-left: 8vw;","    margin-top: .8rem;","    margin-bottom: .533333rem;","    &>li{","      font-size: .426667rem;","      line-height: .906667rem;","      font-weight: bold;","      &>ol{","      font-size: .373333rem;","      color: #837a7a;","      line-height: .426667rem;","      -webkit-touch-callout: text;","      /*系统默认菜单被禁用*/","      -webkit-user-select: text;","      /*webkit浏览器*/","      -khtml-user-select: text;","      /*早期浏览器*/","      -moz-user-select: text;","      /*火狐*/","      -ms-user-select: text;","      /*IE10*/","      user-select: text;","    }","    }","    img{","      width: 84vw;","    }","    ","  }","}","</style>"]}},methods:{showPopup(){this.show=!0},onClose(){this.setData({show:!1})},getImg(e){Object(h["a"])([e])},C_bgPic(e,i){this.z_bgPic_index=i,this.bgPic=e.src},handleReset(){this.$refs.esign.reset()},handleGenerate(){this.$refs.esign.generate().then(e=>{this.resultImg=e,console.log(e)}).catch(e=>{alert(e)})},drawProdPicture(){let e=new Image,i=this.fileList.length;this.one_img_src=this.fileList[0].content,e.src=this.fileList[i-1].content,e.width=100,e.height=200,e.setAttribute("crossOrigin","anonymous");let t=document.createElement("canvas"),s=t.getContext("2d");t.width=1500,t.height=866;let o=new Image,n=!0;e.onload=()=>{if(s.drawImage(e,0,0,1496,866),o.src=this.bgPic,o.setAttribute("crossOrigin","anonymous"),o.width=1496,o.height=866,n)n=!1;else{let e=t.toDataURL();this.makePic=e}},o.onload=()=>{if(s.drawImage(o,0,0,1496,866),n)n=!1;else{let e=t.toDataURL("image/png");this.makePic=e,this.fileList[i-1].content=e}}}}},p=d,u=(t("2bd4"),t("2877")),v=Object(u["a"])(p,s,o,!1,null,"77d4d0f1",null);i["default"]=v.exports},"454c":function(e,i,t){},a3e0:function(e,i,t){e.exports=t.p+"img/code2.png"},d9d7:function(e,i,t){e.exports=t.p+"img/bk.png"},ea36:function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADjBAMAAABzzGzOAAAAG1BMVEUAAAAAofUAk/MAk/gBnfUAlvcAm/UAl/QBkO60NTzIAAAAAXRSTlMAQObYZgAABKRJREFUeNrtmEFv0zAUgBEIiSORjHdFtRA5okTceZJjztC1nCNl3jkbDVc0Lv3ZPHsubupkIVGpLfG+ZYRw8ceXF2/NMxmidCO1bvB84GZzyrcfht1mmPWmLD8eX5fjfDgo6D8019vt9anCTaW3PeYpfC36BAp9GunW9hKosA0zWIVRhChRYyqBV4Av17JyqErpU4UKHZAgQ+cuBgzKAjlWKJAnFJh884a5ChUuHFa4mVlhbSv46tOzcG0qKPslZaMdfho2ExXuA/z/uvCMKTgJKavHr0oGCjfVdlEFYZmu4KicgQxuxKIKdv1DBc+4QmVmwVcIZ6FaVOHdbsYTIeUbW2CkwnazqELvifAZhvaFLAMAxk73SK+ggl1yit29qTASQYQKMpPM1oBAoc92mJFbgRX8zngoMVIBMukWH1OYWwEV5lUAJgNw+b+vcD+Ar9DHVJihcOYKxUqMVsiGFJqzV0AF/AMrzFA4fwURsUKJDFfIjpDjqEOFb7tgm+zvku/8X8PfF9zqYkyBLVDwhAprrxAwrPD62SV5IUR0haKIrlBSBVMBM6Q3juzTswuCFYr4CrZCEVWhFFQhnVko48/Cr4QqMCklXHx3tIioCkURv4IQ0RXMtkAVEngihBBF+TaZCvYjxKW3JkQgkRWQIqEKLH4FFr8CzUIqFbJLK7x0n/v91sRIgRRIIS0F2hdIgRRIwSjMefVJCv+El19Xq5WIr7AqioIqmAppjCOwDBJ4IliUt6+IUzAVIigUjiQqAFVIYxYYVbCzAMYCiffqE7IYu2O/AqMKVCGxCsCoAlWgClSBKqRQoRRCUAWqkEaF5+/wDcc6WgWvELfCyvEWFVyFaApU4VEBIIEKELkCKsSvwKLPQgIVWPQKLIEKCcwCUAWqkM6+kMBPSqpAFahCXwGJXsFAFRKpAPEV6EZQhdgVcqrQrwCMKtAsOGgWqEL8CkAVEquQUQWqQBWoQjIVMqpAFagCVUipgkCoQuwKDwhVoAppVHhYIb+oApLnOVWgCulUyH96BYhRAS1+Rq6w3+/jKbzaW7wCIDEU0qqQQXyFBCqQAilEVsjzmAq54b+vEH8WEvlknSP0loUqBBUmYNKj9AA/nuZuFWI2JnOOp5Dj9/6pCiyD3iGPAAClm6bxOm3XM5lWeI/f5t8WVkAU11pZm9aiD9z+dYUHqzC/AtSSM6gb+fmKK3TAs2WBArKsAi6L/esa2q7x617xJRUMC2aBcc4k51LrK24KWHjbfr9UBahxBhWXtcRlG7zQzmHRLByYWQFqA3q0+uiJOKpw+69nARdHFOf8qlFyaBy7rpvzRHiFyRLypEJdS2gepXTd9ivcIv0Yu823IaW7u7v5FXAQlTnwXCuQTDIUuDXDEFaYVlhWASXwsGes0HClFBrosELfIFRYPgt1o5h0E8k5U6ypW60nKqDCGSvgunjgCayFq1B3ulfB4RXW56vAmVR4cGYnAq943eI06nagQk9hc74K5hbYCjgM5kor1XZmGk7ABp3TcApnqvB4D4yHYu65wFmwHU5w92NGhekOJ08ESAB71Wil7SSEFRDtKxxsLKv3RxpvfwNUIHB7C41FvAAAAABJRU5ErkJggg=="}}]);